<h2>Buscar Créditos</h2>

<label>NFS-e:</label>
<input type="text" [(ngModel)]="filtroNfse">
<button (click)="buscarPorNfse()">Buscar</button>

<label>Número do Crédito:</label>
<input type="text" [(ngModel)]="filtroNumero">
<button (click)="buscarPorNumeroCredito()">Buscar</button>

<h3>Lista de Créditos</h3>

<table *ngIf="creditos.length > 0">
  <thead>
    <tr>
      <th>ID</th>
      <th>Número Crédito</th>
      <th>Número NFS-e</th>
      <th>Data Constituição</th>
      <th>Valor ISSQN</th>
      <th>Tipo Crédito</th>
      <th>Simples Nacional</th>
      <th>Alíquota</th>
      <th>Valor Faturado</th>
      <th>Valor Dedução</th>
      <th>Base de Cálculo</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let credito of creditos"> 
      <td>{{ credito.id }}</td>
      <td>{{ credito.numeroCredito }}</td>
      <td>{{ credito.numeroNfse }}</td>
      <td>{{ credito.dataConstituicao }}</td>
      <td>{{ credito.valorIssqn | currency:'BRL' }}</td>
      <td>{{ credito.tipoCredito }}</td>
      <td>{{ credito.simplesNacional ? 'Sim' : 'Não' }}</td>
      <td>{{ credito.aliquota }}%</td>
      <td>{{ credito.valorFaturado | currency:'BRL' }}</td>
      <td>{{ credito.valorDeducao | currency:'BRL' }}</td>
      <td>{{ credito.baseCalculo | currency:'BRL' }}</td>
    </tr>
  </tbody>
</table>

<p *ngIf="creditos.length === 0">Nenhum crédito encontrado.</p>
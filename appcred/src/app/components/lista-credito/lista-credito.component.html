<h2>Buscar Créditos</h2>

<label>NFS-e:</label>
<input type="text" [(ngModel)]="filtroNfse">
<button (click)="buscarPorNfse()">Buscar</button>

<label>Número do Crédito:</label>
<input type="text" [(ngModel)]="filtroNumero">
<button (click)="buscarPorNumeroCredito()">Buscar</button>

<h3>Detalhes do Crédito</h3>

<table *ngIf="credito">
  <tr>
    <th>ID</th>
    <td>{{ credito.id }}</td>
  </tr>
  <tr>
    <th>Número Crédito</th>
    <td>{{ credito.numeroCredito }}</td>
  </tr>
  <tr>
    <th>Número NFS-e</th>
    <td>{{ credito.numeroNfse }}</td>
  </tr>
  <tr>
    <th>Data Constituição</th>
    <td>{{ credito.dataConstituicao }}</td>
  </tr>
  <tr>
    <th>Valor ISSQN</th>
    <td>{{ credito.valorIssqn | currency:'BRL' }}</td>
  </tr>
  <tr>
    <th>Tipo Crédito</th>
    <td>{{ credito.tipoCredito }}</td>
  </tr>
  <tr>
    <th>Simples Nacional</th>
    <td>{{ credito.simplesNacional ? 'Sim' : 'Não' }}</td>
  </tr>
  <tr>
    <th>Alíquota</th>
    <td>{{ credito.aliquota }}%</td>
  </tr>
  <tr>
    <th>Valor Faturado</th>
    <td>{{ credito.valorFaturado | currency:'BRL' }}</td>
  </tr>
  <tr>
    <th>Valor Dedução</th>
    <td>{{ credito.valorDeducao | currency:'BRL' }}</td>
  </tr>
  <tr>
    <th>Base de Cálculo</th>
    <td>{{ credito.baseCalculo | currency:'BRL' }}</td>
  </tr>
</table>

<p *ngIf="!credito">Nenhum crédito encontrado.</p>